{"ast":null,"code":"var _jsxFileName = \"/Users/fabiankjellberg/Documents/GitHub/test/src/pages/Bid/Bid.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport './Bid.css';\nimport '../../utilities/TestEscrow.js';\nimport TestEscrow from \"../../utilities/TestEscrow.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Bid() {\n  _s();\n  const [bid, setBid] = useState(0);\n  const [timer, setTimer] = useState(20);\n  const [highestBidder, setHighestBidder] = useState(\"no bid yet\");\n  const [seller, setSeller] = useState(null);\n  const [isBiddingOpen, setIsBiddingOpen] = useState(false);\n  const [text, setText] = useState('');\n  const user1 = \"tekital1000@gmail.com\";\n  const user2 = \"fabian.kjellberg98@gmail.com\";\n  const startBid = () => {\n    setIsBiddingOpen(true);\n  };\n  useEffect(() => {\n    let interval;\n    if (isBiddingOpen && timer > 0) {\n      interval = setInterval(() => {\n        setTimer(prevTimer => prevTimer - 1);\n      }, 1000);\n    }\n    if (timer === 0) finishTransaction();\n    return () => {\n      clearInterval(interval);\n    };\n  }, [isBiddingOpen, timer]);\n  const finishTransaction = () => {\n    setText(highestBidder + \" won the auction Congratz!!\");\n    TestEscrow.createOffer(highestBidder, seller, bid);\n  };\n  const doBid = (user, notUser) => {\n    setBid(bid + 50);\n    setHighestBidder(user);\n    setSeller(notUser);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bid\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startBid,\n        children: \"start bid\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [user1, \" makes an offer\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => doBid(user1, user2),\n        children: \"bid +50\\u20AC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [user2, \" makes an offer\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => doBid(user2, user1),\n        children: \"bid +50\\u20AC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"time left: \", timer]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"current bid:  \", bid]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"highest Bidder: \", highestBidder]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(Bid, \"Ay0bctq5YMKwt+CjLKB/nNe3LeA=\");\n_c = Bid;\nexport default Bid;\nvar _c;\n$RefreshReg$(_c, \"Bid\");","map":{"version":3,"names":["useState","useEffect","TestEscrow","jsxDEV","_jsxDEV","Fragment","_Fragment","Bid","_s","bid","setBid","timer","setTimer","highestBidder","setHighestBidder","seller","setSeller","isBiddingOpen","setIsBiddingOpen","text","setText","user1","user2","startBid","interval","setInterval","prevTimer","finishTransaction","clearInterval","createOffer","doBid","user","notUser","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/fabiankjellberg/Documents/GitHub/test/src/pages/Bid/Bid.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport './Bid.css'\nimport '../../utilities/TestEscrow.js'\nimport TestEscrow from \"../../utilities/TestEscrow.js\";\n\nfunction Bid() {\n\n    \n    const [bid, setBid] = useState(0);\n    const [timer, setTimer] = useState(20);\n    const [highestBidder, setHighestBidder] = useState(\"no bid yet\")\n    const [seller, setSeller] = useState(null)\n    const [isBiddingOpen, setIsBiddingOpen] = useState(false);\n    const [text, setText] = useState('');\n\n    const user1 = \"tekital1000@gmail.com\";\n    const user2 = \"fabian.kjellberg98@gmail.com\";\n\n    const startBid = () => {\n        setIsBiddingOpen(true);\n    };\n\n    \n    useEffect(() => {\n        let interval;\n\n        if (isBiddingOpen && timer > 0) {\n            interval = setInterval(() => {\n                setTimer((prevTimer) => prevTimer - 1);\n            }, 1000);\n        }\n\n        if (timer === 0) finishTransaction()\n\n        return () => {\n            clearInterval(interval);\n        };\n    }, [isBiddingOpen, timer]);\n\n    \n    const finishTransaction = () => {\n        setText(highestBidder + \" won the auction Congratz!!\")\n        TestEscrow.createOffer(highestBidder,seller,bid);\n    }\n\n    const doBid = (user, notUser) => {\n        \n        setBid(bid + 50)\n        setHighestBidder(user)\n        setSeller(notUser)\n    }\n\n    return (\n        <>\n            <div className=\"bid\">\n                <button onClick={startBid}>\n                    start bid\n                </button>\n                <hr></hr>\n                <p>\n                    {user1} makes an offer\n                </p>\n                \n                <button onClick={() => doBid(user1, user2)}>\n                    bid +50€\n                </button>\n                <hr></hr>\n                <p>\n                    {user2} makes an offer\n                </p>\n                <button onClick={() => doBid(user2, user1)}>\n                    bid +50€\n                </button>\n\n                <hr></hr>\n\n                <p>time left: {timer}</p>\n                <p>current bid:  {bid}</p>\n                <p>highest Bidder: {highestBidder}</p>\n                <p>{text}</p>\n            </div>\n            \n        </>\n    )\n}export default Bid;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}