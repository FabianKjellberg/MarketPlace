{"ast":null,"code":"import React from \"react\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { useAuthentication } from \"./AuthenticationProvider\";\nclass AuthenticationManager {\n  constructor(apiUrl, {\n    logIn,\n    setToken\n  }) {\n    this.apiUrl = apiUrl;\n    this.axiosInstance = axios.create({\n      baseURL: apiUrl,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n  }\n  Authenticate(userDetails) {\n    const returnData = this.axiosInstance.post('/auth/login', userDetails).then(response => {\n      if (response.status == 200) {\n        console.log(response.status);\n        this.logIn(userDetails.email);\n        this.setToken(response.data);\n        return \"success\";\n      } else {\n        return response.data;\n      }\n      return response.data;\n    }).catch(error => {\n      console.error('', error);\n      return [];\n    });\n    return returnData;\n  }\n}\nexport default AuthenticationManager;","map":{"version":3,"names":["React","useState","axios","useAuthentication","AuthenticationManager","constructor","apiUrl","logIn","setToken","axiosInstance","create","baseURL","headers","Authenticate","userDetails","returnData","post","then","response","status","console","log","email","data","catch","error"],"sources":["/Users/fabiankjellberg/Documents/GitHub/MarketPlaceFrontEnd/src/utilities/AuthenticationManager.js"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { useAuthentication } from \"./AuthenticationProvider\";\n\n\nclass AuthenticationManager {\n\n    constructor(apiUrl, { logIn, setToken }) {\n\n        this.apiUrl = apiUrl;\n        this.axiosInstance = axios.create({\n            baseURL: apiUrl,\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n    }\n\n    Authenticate(userDetails) {\n        \n        \n        const returnData = this.axiosInstance.post('/auth/login', userDetails)\n            .then(response => {\n                if(response.status == 200){\n                    console.log(response.status)\n                    \n                    this.logIn(userDetails.email);\n                    this.setToken(response.data);\n                    return \"success\"\n                }\n                else{\n                    return response.data\n                }\n                return response.data; \n            })\n            .catch(error => {\n                console.error('', error);\n                return [];\n            });\n        return returnData;\n    }\n}\nexport default AuthenticationManager;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,iBAAiB,QAAQ,0BAA0B;AAG5D,MAAMC,qBAAqB,CAAC;EAExBC,WAAWA,CAACC,MAAM,EAAE;IAAEC,KAAK;IAAEC;EAAS,CAAC,EAAE;IAErC,IAAI,CAACF,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACG,aAAa,GAAGP,KAAK,CAACQ,MAAM,CAAC;MAC9BC,OAAO,EAAEL,MAAM;MACfM,OAAO,EAAE;QACL,cAAc,EAAE;MACpB;IACJ,CAAC,CAAC;EACN;EAEAC,YAAYA,CAACC,WAAW,EAAE;IAGtB,MAAMC,UAAU,GAAG,IAAI,CAACN,aAAa,CAACO,IAAI,CAAC,aAAa,EAAEF,WAAW,CAAC,CACjEG,IAAI,CAACC,QAAQ,IAAI;MACd,IAAGA,QAAQ,CAACC,MAAM,IAAI,GAAG,EAAC;QACtBC,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACC,MAAM,CAAC;QAE5B,IAAI,CAACZ,KAAK,CAACO,WAAW,CAACQ,KAAK,CAAC;QAC7B,IAAI,CAACd,QAAQ,CAACU,QAAQ,CAACK,IAAI,CAAC;QAC5B,OAAO,SAAS;MACpB,CAAC,MACG;QACA,OAAOL,QAAQ,CAACK,IAAI;MACxB;MACA,OAAOL,QAAQ,CAACK,IAAI;IACxB,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;MACZL,OAAO,CAACK,KAAK,CAAC,EAAE,EAAEA,KAAK,CAAC;MACxB,OAAO,EAAE;IACb,CAAC,CAAC;IACN,OAAOV,UAAU;EACrB;AACJ;AACA,eAAeX,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}