{"ast":null,"code":"var _jsxFileName = \"/Users/fabiankjellberg/Documents/GitHub/MarketPlace/src/pages/Bid/Bid.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport './Bid.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Bid() {\n  _s();\n  const [bid, setBid] = useState(0);\n  const [timer, setTimer] = useState(2);\n  const [highestBidder, setHighestBidder] = useState(\"no bid yet\");\n  const [seller, setSeller] = useState(null);\n  const [isBiddingOpen, setIsBiddingOpen] = useState(false);\n  const [text, setText] = useState('');\n  const user1 = \"tekital1000@gmail.com\";\n  const user2 = \"fabian.kjellberg98@gmail.com\";\n  const startBid = () => {\n    setIsBiddingOpen(true);\n  };\n  useEffect(() => {\n    let interval;\n    if (isBiddingOpen && timer > 0) {\n      interval = setInterval(() => {\n        setTimer(prevTimer => prevTimer - 1);\n      }, 1000);\n    }\n    if (timer === 0) finishTransaction();\n    return () => {\n      clearInterval(interval);\n    };\n  }, [isBiddingOpen, timer]);\n  const finishTransaction = () => {\n    setText(highestBidder + \" won the auction Congratz!!\");\n    TestEscrow.createOffer(FormData);\n  };\n  const doBid = (user, notUser) => {\n    setBid(bid + 50);\n    setHighestBidder(user);\n    setSeller(notUser);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bid\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startBid,\n        children: \"start bid\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [user1, \" makes an offer\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => doBid(user1, user2),\n        children: \"bid +50\\u20AC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [user2, \" makes an offer\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => doBid(user2, user1),\n        children: \"bid +50\\u20AC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"time left: \", timer]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"current bid:  \", bid]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"highest Bidder: \", highestBidder]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(Bid, \"TTKz8Ql+Ga5J/BM6a8fB8vyPqWg=\");\n_c = Bid;\nexport default Bid;\nvar _c;\n$RefreshReg$(_c, \"Bid\");","map":{"version":3,"names":["useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","Bid","_s","bid","setBid","timer","setTimer","highestBidder","setHighestBidder","seller","setSeller","isBiddingOpen","setIsBiddingOpen","text","setText","user1","user2","startBid","interval","setInterval","prevTimer","finishTransaction","clearInterval","TestEscrow","createOffer","FormData","doBid","user","notUser","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/fabiankjellberg/Documents/GitHub/MarketPlace/src/pages/Bid/Bid.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport './Bid.css'\n\nfunction Bid() {\n\n    \n    const [bid, setBid] = useState(0);\n    const [timer, setTimer] = useState(2);\n    const [highestBidder, setHighestBidder] = useState(\"no bid yet\")\n    const [seller, setSeller] = useState(null)\n    const [isBiddingOpen, setIsBiddingOpen] = useState(false);\n    const [text, setText] = useState('');\n\n    const user1 = \"tekital1000@gmail.com\";\n    const user2 = \"fabian.kjellberg98@gmail.com\";\n\n    const startBid = () => {\n        setIsBiddingOpen(true);\n    };\n\n    \n    useEffect(() => {\n        let interval;\n\n        if (isBiddingOpen && timer > 0) {\n            interval = setInterval(() => {\n                setTimer((prevTimer) => prevTimer - 1);\n            }, 1000);\n        }\n\n        if (timer === 0) finishTransaction()\n\n        return () => {\n            clearInterval(interval);\n        };\n    }, [isBiddingOpen, timer]);\n\n    \n    const finishTransaction = () => {\n        setText(highestBidder + \" won the auction Congratz!!\")\n        TestEscrow.createOffer(FormData);\n    }\n\n    const doBid = (user, notUser) => {\n        \n        setBid(bid + 50)\n        setHighestBidder(user)\n        setSeller(notUser)\n    }\n\n    return (\n        <>\n            <div className=\"bid\">\n                <button onClick={startBid}>\n                    start bid\n                </button>\n                <hr></hr>\n                <p>\n                    {user1} makes an offer\n                </p>\n                \n                <button onClick={() => doBid(user1, user2)}>\n                    bid +50€\n                </button>\n                <hr></hr>\n                <p>\n                    {user2} makes an offer\n                </p>\n                <button onClick={() => doBid(user2, user1)}>\n                    bid +50€\n                </button>\n\n                <hr></hr>\n\n                <p>time left: {timer}</p>\n                <p>current bid:  {bid}</p>\n                <p>highest Bidder: {highestBidder}</p>\n                <p>{text}</p>\n            </div>\n            \n        </>\n    )\n}export default Bid;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}